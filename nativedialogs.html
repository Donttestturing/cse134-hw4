<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" >
        <title> Simple Dialogs </title>
        <link rel="icon" href="/content/images/logoSmall.svg" alt="Brendan Devlin's personal logo, designed and created by him."> 
        <style>
         
        </style>
        <script src="dist/purify.js" > </script>

    </head>
    <body>
        <header>
            <h1> Simple Dialogs </h1>
        </header>
        <main>
          <button id="first">
            Alert
          </button>
  
          <button >
            Prompt
          </button >
          <button>
            Safer Prompt
          </button>
          <button>
            Confirm
          </button>
          <br>
          <output>
            Output: 
          </output>

        </main>



    </body>

    <script >   //src="/dist/purify.js"
       
        let buttons = document.getElementsByTagName('button');

        buttons[0].addEventListener('click', () => {alert('Built-in Alert')} );

        let outputs = document.getElementsByTagName('output');

        let userValue = null;

        buttons[1].addEventListener('click', () => {        //Regular Prompt
            userValue = prompt('Please enter a value')
        });

        buttons[2].addEventListener('click', () => {        //Safer Prompt
            userValue = prompt('Please enter a value');
            userValue = DOMPurify.sanitize(userValue);
        });

        function taggedTemplateStr (string){
            string = string.replaceAll('<', ''); 
            string = string.replaceAll('>', ''); 
            string = string.replaceAll('/', ''); 
            return `The value returned by the confirm method is : ${string}`;
        }

        console.log(taggedTemplateStr('<P>'));

        buttons[3].addEventListener('click', () => {
            if(userValue === null){
                outputs[0].innerHTML = 'Output: User didn\'t enter anything';
                confirm('User didn\'t enter anything');
            } else {
                outputs[0].innerHTML = 'Output: ' + taggedTemplateStr(userValue);
                confirm(taggedTemplateStr(userValue));

            }
            userValue = null;
           

        } );


    </script>

</html>